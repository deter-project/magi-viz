<?php

	require '../util/helpers.php';

	try 
	{
	  	header("Content-type: application/json");
	  	
	  	$node_location = [
	  			[250, 250],
	  			[269, 77], [314, 89], [349, 115], [379, 149], [398, 192],
	  			[420, 232], [406, 271], [396, 314], [374, 349], [342, 375],
	  			[313, 402], [267, 406], [227, 422], [189, 403], [150, 382],
	  			[114, 355], [90, 317], [75, 272], [75, 223], [82, 176],
	  			[110, 143], [140, 111], [174, 86], [220, 75], [249, 31],
	  			[293, 37], [335, 50], [373, 73], [401, 104], [427, 136],
	  			[442, 176], [459, 218], [455, 269], [452, 313], [427, 354],
	  			[402, 390], [368, 417], [328, 444], [284, 450], [239, 462],
	  			[188, 453], [146, 434], [109, 412], [80, 384], [55, 348],
	  			[38, 306], [29, 262], [31, 218], [38, 173], [60, 130],
	  			[86, 96], [119, 66], [161, 44], [205, 32]
	  	];
	  	
	  	$node_location = [
	  			[117,386],
	  			[90,20], [48,75], [99,102], [50,137], [31,298],
	  			[141,73],[207,101], [212,151], [225,129], [260,276],
	  			[234,298], [232,325], [111,281], [108,224], [112,238],
	  			[250,150], [247,170], [305,72], [361,74], [320,202],
	  			[404,194], [433,96], [505,82], [481,100], [587,146],
	  			[577,247], [579,272], [437,252], [465,223], [380,243],
	  			[331,282], [285,290], [295,211], [327,312], [401,314],
	  			[417,340], [446,314], [348,412], [347,493], [400,416],
	  			[435,480], [458,463], [442,427], [513,349], [524,376],
	  			[556,437], [566,377], [599,378], [646,396], [581,447],
	  			[573,465], [628,477], [118,186], [374,297]
	  	];
	  	
	  	$node_location = [
	  			[416,555], 
	  			[20,592], [75,634], [102,583], [137,632], [298,651], 
	  			[73,541], [101,475], [151,470], [129,457], [276,422], 
	  			[298,448], [325,450], [281,571], [224,574], [238,570], 
	  			[150,432], [170,435], [72,377], [74,321], [202,362], 
	  			[194,278], [96,249], [82,177], [100,201], [146,95], 
	  			[247,105], [272,103], [252,245], [223,217], [243,302], 
	  			[282,351], [290,397], [211,387], [312,355], [314,281], 
	  			[340,265], [314,236], [412,334], [491,335], [416,282], 
	  			[480,247], [463,224], [427,240], [349,169], [376,158], 
	  			[437,126], [377,116], [378,83], [396,36], [447,101], 
	  			[465,109], [477,54], [186,564], [297,308]
	  	];
	  	
	  	//print_r($node_location);
	  	
		$nodes = array();
		foreach (range(0, 54) as $node_num) {
			$node_data = array("itr" => $node_num,
					           "name" => $node_num,
							   "active" => true,
							   "commanded" => "0",
					           "actual" => "0",
					           "x" => $node_location[$node_num][0],
					           "y" => $node_location[$node_num][1]
			);
			$nodes[$node_num] = $node_data;
		}
		$nodes[0]["name"] = "ISO";
		
		$links = array();
		foreach (range(1, 54) as $node_num) {
			$link_data = array("itr" => $node_num,
					           "name" => "e-".$node_num,
					           "source" => 0,
					           "target" => $node_num,
					           "lastResponse" => 0, 
					           "deception" => 0
			);
			array_push($links, $link_data);
		}
		
		//print_r($nodes);
		//print_r($links);
		
		$formatted_result = array(
					'nodes' => $nodes,
					'links' => $links
		);
		
		echo json_encode($formatted_result);
	  	
	}catch (Exception $e) {
	 	die('Error: ' . $e->getMessage());
	}
	
?>
